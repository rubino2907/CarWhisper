<div class="auth-page">
  <div class="auth-card">

    <!-- Branding do site -->
    <div class="auth-branding">
      <h1>🚗 CarWhisperer</h1>
      <p class="subtitle">A tua plataforma inteligente que combina IA com dados automóveis</p>
    </div>

    <!-- Mensagem de erro -->
    <div class="auth-error" *ngIf="error">
      {{ error }}
    </div>

    <!-- LOGIN -->
    <div *ngIf="isLogin">
      <h2>🔑 Entrar</h2>

      <label for="login-email">Email</label>
      <input type="email" id="login-email" [(ngModel)]="loginUsername" placeholder="Digite o seu email">

      <label for="login-password">Password</label>
      <input type="password" id="login-password" [(ngModel)]="loginPassword" placeholder="Digite a sua senha">

      <div class="auth-actions">
        <button type="button" class="login-btn" (click)="login()" [disabled]="loading">
          {{ loading ? 'A carregar...' : 'Entrar' }}
        </button>
        <button type="button" class="register-btn" (click)="toggleAuth()" [disabled]="loading">Registar</button>
      </div>

      <div class="switch-auth">
        Não tens conta? <span (click)="toggleAuth()" class="link">Regista-te aqui</span>
      </div>
    </div>

    <!-- REGISTO -->
    <div *ngIf="!isLogin">
      <h2>📝 Registar</h2>

      <label for="register-name">Nome</label>
      <input type="text" id="register-name" [(ngModel)]="registerName" placeholder="Digite o seu nome">

      <label for="register-email">Email</label>
      <input type="email" id="register-email" [(ngModel)]="registerEmail" placeholder="Digite o seu email">

      <label for="register-password">Password</label>
      <input type="password" id="register-password" [(ngModel)]="registerPassword" placeholder="Digite a sua password">

      <div class="auth-actions">
        <button type="button" class="login-btn" (click)="toggleAuth()" [disabled]="loading">Login</button>
        <button type="button" class="register-btn" (click)="register()" [disabled]="loading">
          {{ loading ? 'A carregar...' : 'Registar' }}
        </button>
      </div>

      <div class="switch-auth">
        Já tens conta? <span (click)="toggleAuth()" class="link">Faz login aqui</span>
      </div>
    </div>

    <div class="auth-footer">
      <p>Explora chats, dados e insights automóveis num só lugar!</p>
    </div>

  </div>
</div>
